<header class="bg-body px-4 py-3">
  <div class="d-flex justify-content-end align-items-center gap-3">
    <!-- Theme Toggle -->
    <!-- <button 
      class="btn btn-outline-secondary btn-sm rounded-pill d-flex align-items-center gap-2"
      (click)="toggleTheme()"
      [attr.aria-label]="isDarkMode() ? 'Switch to light mode' : 'Switch to dark mode'">
      @if (isDarkMode()) {
        <i class="bi bi-sun-fill"></i>
        <span class="d-none d-md-inline">Light</span>
      } @else {
        <i class="bi bi-moon-fill"></i>
        <span class="d-none d-md-inline">Dark</span>
      }
    </button> -->

    <!-- User Profile Dropdown -->
    <div class="dropdown">
      <div
        class="d-flex align-items-center text-decoration-none dropdown-toggle border rounded-pill px-3 py-2 bg-light"
        data-bs-toggle="dropdown"
        aria-expanded="false"
        role="button"
        style="cursor: pointer; border-color: #e9ecef !important;"
      >
        @if (me$ | async; as me) {
          <div class="d-flex align-items-center gap-2">
            <img
              src="https://github.com/mdo.png"
              alt="Profile"
              width="32"
              height="32"
              class="rounded-circle"
            />
            <div class="d-none d-md-block">
              <small class="fw-semibold text-dark">{{ me.first_name + ' ' + me.last_name }}</small>
            </div>
            <i class="bi bi-chevron-down text-muted" style="font-size: 0.8rem;"></i>
          </div>
        }
      </div>
      <ul class="dropdown-menu dropdown-menu-end shadow border-0 mt-2" style="min-width: 200px;">
        <li class="px-3 py-2 border-bottom">
          @if (me$ | async; as me) {
            <div class="d-flex align-items-center gap-2">
              <img
                src="https://github.com/mdo.png"
                alt="Profile"
                width="40"
                height="40"
                class="rounded-circle"
              />
              <div>
                <div class="fw-semibold">{{ me.first_name + ' ' + me.last_name }}</div>
                <small class="text-muted">{{ me.email }}</small>
              </div>
            </div>
          }
        </li>
        <li><a class="dropdown-item py-2" href="#">
          <i class="bi bi-plus-circle me-2 text-primary"></i>New Project
        </a></li>
        <li><a class="dropdown-item py-2" href="#">
          <i class="bi bi-person me-2 text-muted"></i>Profile
        </a></li>
        <li><a class="dropdown-item py-2" href="#">
          <i class="bi bi-gear me-2 text-muted"></i>Settings
        </a></li>
        <li><hr class="dropdown-divider my-2"/></li>
        <li><a class="dropdown-item py-2 text-danger" (click)="logout()" style="cursor: pointer;">
          <i class="bi bi-box-arrow-right me-2"></i>Sign Out
        </a></li>
      </ul>
    </div>
  </div>
</header>
